(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(54)},21:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),i=(a(21),a(2)),s=a(3),l=a(5),u=a(4),h=a(6),m=a(7),d=a.n(m),p=(a(42),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleCountryChange=function(e){a.setState({country:e.target.value})},a.handleCityChange=function(e){a.setState({city:e.target.value})},a.handleOnClickSubmit=function(e){e.preventDefault(),a.props.loadWeather(a.state),a.props.handleFormClick(),a.resetForm()},a.resetForm=function(){a.setState({city:"",country:"",submitted:!0})},a.state={city:"",country:"",submitted:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{id:"weatherForm",className:"Form"},r.a.createElement("input",{className:"Form__input",type:"text",name:"city",value:this.state.city,placeholder:this.state.submitted?"Another city..":"City..",onChange:this.handleCityChange,autoFocus:!0}),r.a.createElement("input",{className:"Form__input",type:"text",name:"country",placeholder:"Country...",value:this.state.country,onChange:this.handleCountryChange}),r.a.createElement("button",{onClick:this.handleOnClickSubmit,type:"submit",className:"Form__submit"},this.state.submitted?"Find another place":"Look up the weather"))}}]),t}(n.Component)),v={"01d":"../../weather_svg/sun.svg","01n":"../../weather_svg/sun.svg","02d":"../../weather_svg/cloudy.svg","02n":"../../weather_svg/cloudy.svg","03n":"../../weather_svg/cloudy.svg","03d":"../../weather_svg/cloudy.svg","04d":"../../weather_svg/cloudy.svg","04n":"../../weather_svg/brokenclouds.svg","50d":"../../weather_svg/cloudy.svg","50n":"../../weather_svg/mist.svg","10n":"../../weather_svg/rainy.svg","10d":"../../weather_svg/rainy.svg"},g=(a(44),a(46),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).toggleError=function(e){setTimeout(function(){a.props.unmountMe()},e)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.toggleError(2e3)}},{key:"render",value:function(){return r.a.createElement("div",{className:"Error"},r.a.createElement("span",null,this.props.message))}}]),t}(n.Component)),y=function(e){var t=e.code;return r.a.createElement("img",{className:"weather_icon floating",src:v[t],alt:"icon"})},f=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Weather"+(this.props.loaded&&this.props.description?" found":"")},r.a.createElement("div",{className:"Weather__info"},this.props.country&&this.props.city&&r.a.createElement("div",{className:"Weather__location"},r.a.createElement("h1",null,this.props.city)),this.props.description&&r.a.createElement("div",{className:"Weather__description"},r.a.createElement("span",null,this.props.description)),this.props.temperature&&r.a.createElement("div",{className:"Weather__temperature"},r.a.createElement("span",null,this.props.temperature,"\xba")),r.a.createElement(y,{code:this.props.code}),this.props.maxtemp&&this.props.mintemp&&r.a.createElement("div",{className:"Weather__ranges"},r.a.createElement("span",{className:"Weather__mintemp"},this.props.mintemp,"\xba"),r.a.createElement("span",{className:"Weather__maxtemp"},this.props.maxtemp,"\xba"))))}}]),t}(n.Component),b=(a(48),["current","forecast"]),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={activeTab:"current"},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"changeTabOnClick",value:function(e){this.setState({activeTab:e}),this.props.changeTabState(e),console.log(this.state.activeTab)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Navbar"},b.map(function(t,a){return r.a.createElement("button",{key:a,className:"Navbar__tab"+(e.state.activeTab===t?" active":""),onClick:e.changeTabOnClick.bind(e,t)},t)}))}}]),t}(n.Component),w=(a(50),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={lat:void 0,lng:void 0,error:void 0,requested:!1,loaded:!1},a.onLocateSuccess=function(e){var t=e.coords;a.setState({lat:t.latitude,lng:t.longitude,requested:!0,loaded:!0}),console.log(a.state.lat,a.state.lng),a.props.getGeoWeather(a.state.lat,a.state.lng)},a.onLocateError=function(e){a.setState({requested:!0,loaded:!0,error:e.message}),a.props.handleError(e.message)},a.getLocation=function(){a.setState({requested:!0,loaded:!1});navigator.geolocation.getCurrentPosition(a.onLocateSuccess,a.onLocateError,{enableHighAccuracy:!0,maximumAge:0,timeout:15e3})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("img",{src:"../../assets/geolocate.svg",className:"Geolocator__icon"+(this.state.requested&&!this.state.loaded?" spin":""),alt:"Geolocate me",onClick:this.getLocation})}}]),t}(n.Component)),_=(a(52),"8d2de98e089f1c28e1a22fc19a24ef04"),O="https://api.openweathermap.org/data/2.5/weather",j=function(e,t){return"".concat(O,"?q=").concat(e,",").concat(t,"&appid=").concat(_,"&").concat("units=metric")},C=function(e,t){return"".concat(O,"?lat=").concat(e,"&lon=").concat(t,"&appid=").concat(_,"&").concat("units=metric")},k=function(e,t){return"".concat(O,"?q=").concat(e,",").concat(t,"&appid=").concat(_,"&").concat("units=metric")},T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={tab:"current",temperature:void 0,maxTemp:void 0,minTemp:void 0,city:void 0,country:void 0,humidity:void 0,description:void 0,code:void 0,searched:!1,loaded:!1,error:null,showError:!0},a.changeTabState=function(e){a.setState({tab:e})},a.handleFormClick=function(e){a.setState({searched:!0})},a.handleError=function(e){a.setState({showError:!0,error:e})},a.getForecast=function(e){var t=e.city,n=e.country,r=k(t,n);t&&n?d.a.get(r).then(function(e){var t=e.data;a.setState({temperature:t.main.temp,maxTemp:t.main.temp_max,minTemp:t.main.temp_min,city:t.name,country:t.sys.country,humidity:t.main.humidity,description:t.weather[0].description,code:t.weather[0].icon,error:null,showError:!0,loaded:!0,searched:!0})}).catch(function(e){a.handleError("Is that even a place? Try another location!")}):a.handleError("Please fill both inputs before searching..")},a.getGeoWeather=function(e,t){var n=C(e,t);e&&t&&d.a.get(n).then(function(e){var t=e.data;a.setState({temperature:t.main.temp,maxTemp:t.main.temp_max,minTemp:t.main.temp_min,city:t.name,country:t.sys.country,humidity:t.main.humidity,description:t.weather[0].description,code:t.weather[0].icon,error:null,showError:!0,loaded:!0,searched:!0})}).catch(function(e){a.handleError(e)})},a.getWeather=function(e){var t=e.city,n=e.country,r=j(t,n);t&&n?d.a.get(r).then(function(e){var t=e.data;a.setState({temperature:t.main.temp,maxTemp:t.main.temp_max,minTemp:t.main.temp_min,city:t.name,country:t.sys.country,humidity:t.main.humidity,description:t.weather[0].description,code:t.weather[0].icon,error:null,showError:!0,loaded:!0,searched:!0}),console.log(t.weather[0].icon)}).catch(function(e){a.handleError("Is that even a place? Try another location!")}):a.handleError("Please fill both inputs before searching..")},a.unmountErrorNotification=function(){a.setState({showError:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,{handleError:this.handleError,getGeoWeather:this.getGeoWeather}),r.a.createElement(p,{loadWeather:this.getWeather,handleFormClick:this.handleFormClick,handleError:this.handleError}),this.state.searched&&this.state.loaded?r.a.createElement(f,{temperature:this.state.temperature,maxtemp:this.state.maxTemp,mintemp:this.state.minTemp,city:this.state.city,country:this.state.country,humidity:this.state.humidity,description:this.state.description,code:this.state.code,error:this.state.error,loaded:this.state.loaded,searched:this.state.searched}):null,this.state.showError&&this.state.error?r.a.createElement(g,{message:this.state.error,unmountMe:this.unmountErrorNotification}):null,r.a.createElement(E,{changeTabState:this.changeTabState,getForecast:this.getForecast}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.658c23be.chunk.js.map